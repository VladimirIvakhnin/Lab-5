#include <iostream>
#include <cmath>
using namespace std;

// Завдання 1 (Варіант 13): Визначити кількість точок всередині кола
void task1() {
    int n;
    cout << "Введіть кількість точок: ";
    cin >> n;

    int count = 0;
    double x, y;
    double r = 5; // Розмір радіусу кола, можна змінити

    for (int i = 0; i < n; i++) {
        cout << "Введіть координати точки " << i+1 << " (x y): ";
        cin >> x >> y;

        // Перевірка, чи точка знаходиться всередині кола
        if (pow(x, 2) + pow(y, 2) <= pow(r, 2)) {
            count++;
        }
    }

    cout << "Кількість точок всередині кола: " << count << endl;
}

// Завдання 2 (Варіант 14): Обчислити суму ряду та вивести непарні елементи
void task2() {
    int n;
    double x, sum = 0.0, term;

    cout << "Введіть значення x: ";
    cin >> x;
    cout << "Введіть кількість елементів n: ";
    cin >> n;

    // Підрахунок суми
    for (int i = 1; i <= n; i++) {
        // Обчислення кожного члена: x^(2i-1) / (i+2)!
        term = pow(x, 2 * i - 1) / tgamma(i + 3); // Використовуємо tgamma(i+3) для обчислення (i+2)!
        sum += term;  // Додаємо до суми

        // Виведення непарних елементів (якщо i непарне)
        if (i % 2 != 0) {
            cout << "Непарний елемент для i = " << i << ": " << term << endl;
        }
    }

    // Виведення загальної суми
    cout << "Загальна сума: " << sum << endl;
}

// Завдання 3( Варіан 13 ): Дослідження збіжності ряду
void task3() {
    double x, sum = 0.0, u;
    double epsilon = 1e-5; // Мала величина для перевірки збіжності

    cout << "Введіть значення x: ";
    cin >> x;

    // Початкове значення елементу ряду
    u = 1; 
    sum = u; // ініціалізація суми

    cout << "Ряд: ";
    while (fabs(u) > epsilon) {
        // Виведення елементу ряду
        cout << u << " ";

        // Додаємо елемент до суми
        sum += u;

        // Обчислення наступного елемента за формулою: u = u * x / (n+1) 
        u *= x / (sum); // Це одна з можливих формул для наступного елемента

        // Обчислюємо наступний елемент
    }

    cout << endl;
    cout << "Сума ряду: " << sum << endl;
}

int main() {
    int menu;
    do {
        // Вибір номеру завдання
        cout << "Виберіть завдання (1-3) або -1 для виходу: ";
        cin >> menu;
        switch (menu) {
            case 1: task1(); break;
            case 2: task2(); break;
            case 3: task3(); break;
            case -1: cout << "Вихід з програми." << endl; break;
            default: cout << "Невірний вибір!" << endl; break;
        }
    } while (menu != -1);

    return 0;
}
